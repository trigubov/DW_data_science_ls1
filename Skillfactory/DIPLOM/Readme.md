# Дипломная работа. Предсказание курса валюты для краткосрочной торговли

## Оглавление  
[1. Описание проекта](README.md#Описание-проекта)  
[2. Какой кейс решаем?](README.md#Какой-кейс-решаем)  
[3. Краткая информация о данных](README.md#Краткая-информация-о-данных)  
[4. Этапы работы над проектом](README.md#Этапы-работы-над-проектом)  
[5. Результат](README.md#Результат)    
[6. Выводы](README.md#Выводы) 

### Описание проекта    
Наша цель - построить математическую модель предсказания колебания биржевого курса для дальнейшего использования в качестве сигнала для сверх-краткосрочной (пипсовой) биржевой торговли.
Конечная цель - написание коммерчески-успешного торгового автомата.

Для этого я выбрал валютную пару EUR-USD на рынке Форекс. В качестве площадки был выбран Альфа-Банк.

Конечно, написание коммерчески-успешного торгового автомата скорее всего не выполнима в рамках этой дипломной работы. Краткосрочная торговля - одна из самых сложных для предсказания видов биржевой торговли. Слишком много факторов влиет, которые в принципе не могут быть считаны моделью. Однако подобная работа поможет мне лучше разобраться и с работами моделей, и с тонкостями работы биржевых автоматов.

Но цель - именно такая, и к ней будем стремится приблизиться как можно ближе.

А самое главное - тестируя модель в продакте, что-бы увидеть результаты - не надо неделями и месяцами ждать, что-бы собрать достаточную статистику. Достаточно пары часов, а то и нескольких минут для получения результата.

Для торговой стратегии я выбрал максимальную длину торгового ордера в 10 минут. Через 10 минут ордер принудительно закрывается, если до этого не закрылся по stop-loss или take-profit.
Торговля будет веститсь на демо-счете с хэджированием от Альфа-Банка.

Из-за ограничений на размер файлов - с гитзхаба пришлось удалить некоторые промежуточные модели, и сам датасет. Впрочем, это некритично - ибо датасет загружается напрямую из торгового терминала.

:arrow_up:[к оглавлению](README.md#Оглавление)


### Какой кейс решаем?    
Нужно написать код Python, который позволит получить данные, обработать, провести анализ, написать модель, настроить её. На основе наилучшей модели написать торгового робота, и опробовать его на торговом счете в торговом терминале

### Краткая информация о данных
Все данные получаются напрямую с торгового терминала. Терминал должен быть уже настроен и подключен к торговому счету. Для работы используется API MetaTrade 5, и библиотеки Python для работы с ней.

:arrow_up:[к оглавлению](README.md#Оглавление)

### Этапы работы над проектом  
Проект выполнялся небольшими кусками, в теченнии нескольких недель. В качестве baseline модели был выбран Случайный Лес, для чего данные пришлось дифференцировать вручную, создав множество временных признаков. После чего предсказания этой модели (после оптимизации и подбора параметров) были использованы в качестве исходных данных для мета-модели. 
Далее была использована модель Prophet, предназначенная как раз для временных рядов. Её выводы (после оптимизации и подбора параметров) также были использованы для мета-модели.
В качестве мета-модели был так-же использован Случайный Лес
После чего был написан торговый робот, который использовал получившуюся модель на реальных данных, поступающих в реальном времени с торгового терминала, выдающий предсказания, и на основании этого предсказания - создающий торговый запрос к платформе.

:arrow_up:[к оглавлению](README.md#Оглавление)

### Результаты:  
Основной результат данной работы - работающий на Python торговый робот, использующий предсказания ансамбля моделей (результаты его работы можно посмотреть на скриншоте в ноутбуке)

:arrow_up:[к оглавлению](README.md#Оглавление)


### Выводы:  
Это было для меня очень хорошей тренировкой. Я "руками пощупал" что такое дифференцирование временного ряда, и зачем оно нужно. Руками собрал ансамбль-стек, используя различные данные, выводы разных моделей. В целом, думаю, если я возьму за цель написать успешного робота - за основу я точну возьму эту работу.

:arrow_up:[к оглавлению](README.md#Оглавление)